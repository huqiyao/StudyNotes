生命周期是客观存在的，装载、更新、卸载总是会发生的。

生命周期函数，可比拟成组件生命旅程中的驿站，在不同阶段出现不同驿站，在不同驿站可以进行不同操作。



# mounting（装载）

constructor → getInitialState & getDefaultProps**（React.createClass方法创造的组件类才会用到）**  → componentWillMount（❌）→ render → componentDidMount



## constructor



## render



## componentDidMount

> 为什么ajax请求放在这个函数里呢



# updating（更新）

componnetWillReveiveProps（❌） → shouldComponentUpdate → componentWillUpdate（❌） → render → componentDidUpdate



# unmounting（卸载）



## componentWillUnmount





```react
const [showNewTriggerPageInput, updateShowNewTriggerPageInput] = useState(false);
  const handlePageUpdate = (page: string, index = -1) => {
    handleTriggerPagesChange(index, page);
    // 这里变为false了，更新了state
    // 再点击add按钮时，即可触发state从false=>true的更新
    // 所以需要填了input才能新增
    updateShowNewTriggerPageInput(false); 
  }; 
  ⁣{triggerPages.length === 0 || showNewTriggerPageInput ? (
      <div key='new'>
        <InputWrapper>
          <Input
            prefix={selectAfter}
            placeholder='填写触发页面的URL，可以通过通配符 「*」定义一组页面'
            value={newUrl}
            onChange={(e: any) => setNewUrl(e.target.value)}
            onBlur={(e: any) => handlePageUpdate(e.target.value)}
          />
        </InputWrapper>
      </div>
    ) : null}
  <div
    onClick={() => {
      updateShowNewTriggerPageInput(true); // 连续点击不会新增input,因为一直都是true，不会触发state更新
    }}
    style={{
      fontSize: '14px',
      cursor: 'pointer',
      display: 'inline-flex',
      alignItems: 'center',
    }}
  ></div>
```

